{{ 'home-various.css' | asset_url | stylesheet_tag }}
<script src="{{ 'home-various.js' | asset_url }}" defer></script>

<section class="hv" data-hv-section>
  <div class="page-width">
    <div class="hv__topRow">
      <div>
        <h2 class="hv__title" style="margin:0;">{{ section.settings.heading | escape }}</h2>
        {% if section.settings.sub != blank %}
          <div class="hv__sub">{{ section.settings.sub }}</div>
        {% endif %}
      </div>
    </div>

    <div class="hvCompanies">
      {% for block in section.blocks %}
        {% if block.type == 'company' %}
          <div
            class="hvCo"
            style="background: {{ block.settings.bg }};"
            {{ block.shopify_attributes }}>
            <div style="display: flex; justify-content:center">
              {% if block.settings.logo != blank %}
                {{ block.settings.logo | image_url: height: 70 | image_tag: class: 'hvCo__logo', loading: 'lazy', alt: block.settings.title }}
              {% endif %}
            </div>
            <h3 class="hvCo__h">{{ block.settings.title | escape }}</h3>
            <p class="hvCo__p">{{ block.settings.text | escape }}</p>
            {% if block.settings.link != blank %}
              <a class="hv__viewAll" href="{{ block.settings.link }}">Shop now</a>
            {% endif %}
          </div>
        {% endif %}
      {% endfor %}
    </div>

    <div class="hvFeatures">
      {% for block in section.blocks %}
        {% if block.type == 'feature' %}
          <div class="hvFeat" {{ block.shopify_attributes }}>
            {% if block.settings.icon != blank %}
              {{ block.settings.icon | image_url: width: 64 | image_tag: class: 'hvFeat__icon', loading: 'lazy' }}
            {% endif %}
            <p class="hvFeat__t">{{ block.settings.title | escape }}</p>
            <p class="hvFeat__d">{{ block.settings.desc | escape }}</p>
          </div>
        {% endif %}
      {% endfor %}
    </div>
  </div>
</section>

{% schema %}
  {
    "name": "Popular companies",
    "settings": [
      {
        "type": "text",
        "id": "heading",
        "label": "Heading",
        "default": "Popular Companies"
      }, {
        "type": "text",
        "id": "sub",
        "label": "Subheading",
        "default": "Some of the new products arriving this week"
      }
    ],
    "blocks": [
      {
        "type": "company",
        "name": "Company card",
        "settings": [
          {
            "type": "color",
            "id": "bg",
            "label": "Background",
            "default": "#e9f6f7"
          },
          {
            "type": "image_picker",
            "id": "logo",
            "label": "Logo"
          },
          {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Brand name"
          },
          {
            "type": "text",
            "id": "text",
            "label": "Text",
            "default": "Short brand line."
          }, {
            "type": "url",
            "id": "link",
            "label": "Shop now link"
          }
        ]
      }, {
        "type": "feature",
        "name": "Feature item",
        "settings": [
          {
            "type": "image_picker",
            "id": "icon",
            "label": "Icon"
          }, {
            "type": "text",
            "id": "title",
            "label": "Title",
            "default": "Quality assurance"
          }, {
            "type": "text",
            "id": "desc",
            "label": "Description",
            "default": "Add details on availability, style, or even provide a review."
          }
        ]
      }
    ],
    "presets": [
      {
        "name": "Popular companies"
      }
    ]
  }
{% endschema %}